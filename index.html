<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gerador de Personagens Modular</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #1c1c1c;
    color: #f0f0f0;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 15px;
    margin: 0;
  }
  h1 {
    color: #ff5555;
    text-align: center;
    margin-bottom: 20px;
  }
  .controls {
    display: flex;
    flex-wrap: wrap; /* Permite que os botões quebrem a linha em telas pequenas */
    justify-content: center;
    gap: 10px; /* Espaço entre os botões */
    margin-bottom: 20px;
    width: 100%;
    max-width: 600px;
  }
  .controls button {
    background-color: #444;
    color: #fff;
    border: none;
    padding: 8px 15px;
    cursor: pointer;
    font-size: 14px;
    border-radius: 5px;
    flex-grow: 1; /* Permite que os botões se expandam */
    min-width: 100px; /* Garante um tamanho mínimo */
  }
  .controls button:hover, .controls button:focus {
    background-color: #666;
    outline: none;
  }

  /* Botão principal de geração total */
  #btn-gerar-tudo {
    background-color: #ff5555;
    color: #fff;
    padding: 12px 25px;
    font-size: 16px;
    margin-top: 10px;
    width: 90%;
    max-width: 400px;
  }
  #btn-gerar-tudo:hover {
    background-color: #ff7777;
  }
  
  .character {
    background-color: #2c2c2c;
    padding: 20px;
    border-radius: 10px;
    max-width: 600px;
    width: 100%;
    box-sizing: border-box;
    margin-top: 10px;
  }
  .block {
    margin-bottom: 15px;
    border-left: 4px solid #ffaa00; /* Destaque na lateral */
    padding-left: 10px;
  }
  .block-title {
    color: #ffaa00;
    font-size: 1.1em;
    font-weight: bold;
    margin-bottom: 5px;
  }
  .block-content {
    line-height: 1.4;
  }
</style>
</head>
<body>
<h1>Gerador de Personagens</h1>

<div class="controls">
    <button onclick="gerarBloco('papel_social', 1, 1)">Novo Papel</button>
    <button onclick="gerarBloco('tracos_personalidade', 1, 3)">Nova Personalidade</button>
    <button onclick="gerarBloco('arco_narrativo', 1, 2)">Novo Arco</button>
    <button onclick="gerarBloco('conflitos_eventos', 1, 3)">Novo Conflito</button>
    <button onclick="gerarBloco('genero_estilo', 1, 2)">Novo Gênero</button>
</div>
<button id="btn-gerar-tudo" onclick="gerarPersonagemCompleto()">Gerar Personagem Completo</button>

<div class="character" id="personagem">
    </div>

<script>
const data = {
  "papel_social":[
    "Estudante","Professor","Motorista","Agricultor","Comerciante","Dono de loja",
    "Enfermeiro","Bibliotecário","Jornalista","Cozinheiro","Ladrão","Assassino de aluguel",
    "Traficante","Falsificador","Hacker criminoso","Contrabandista","Gangster de bairro",
    "Estelionatário","Sequestrador","Espião","Médico","Engenheiro","Cientista","Pesquisador",
    "Inventor","Hacker legal","Programador","Bioquímico","Roboticista","Astrônomo","Político",
    "Juiz","General","Diplomata","Prefeito","Líder religioso","Xerife","Conselheiro","CEO",
    "Oficial de segurança","Bruxa","Vampiro","Sacerdote","Elemental","Invocador","Mago",
    "Necromante","Fada","Monstro humanoide","Espírito ancestral","Soldado","Guarda real",
    "Caçador de monstros","Gladiador","Mercenário","Pistoleiro","Atirador de elite","Ninja",
    "Samurai","Capitão de navio","Cantor","Idol","Ator","Streamer","Escritor","Pintor",
    "Dançarino","Fotógrafo","Comediante","Diretor de cinema","Piloto espacial","Ciborgue",
    "Clonador","Engenheiro de IA","Navegador de realidade virtual","Contrabandista intergaláctico",
    "Cientista alienígena","Mercador de tecnologia","Hacker futurista","Androide"
  ],
  "tracos_personalidade":[
    "Bom","Mal","Inteligente","Ingênuo","Revoltado","Dogmático","Pragmático","Emocional",
    "Arrogante","Humilde","Obsessivo","Corajoso","Covarde","Gentil","Cruel","Sarcástico",
    "Teimoso","Flexível","Paciente","Impulsivo","Introvertido","Extrovertido","Calculista",
    "Desorganizado","Leal","Traiçoeiro","Otimista","Pessimista","Sensível","Insensível",
    "Determinado","Indeciso","Apaixonado","Frio","Ciumento","Generoso","Egoísta","Ambicioso",
    "Preguiçoso","Trabalhador","Honesto","Manipulador","Observador","Distraído","Persistente",
    "Impaciente","Realista","Idealista","Criativo","Conservador"
  ],
  "arco_narrativo":[
    "Queda","Redenção","Ascensão","Corrupção","Sobrevivência","Vingança","Transformação",
    "Sacrifício","Descoberta","Iluminação","Obsessão","Perda","Amor proibido","Superação",
    "Conquista","Traição","Rebelião","Fuga","Isolamento","Crescimento pessoal","Queda social",
    "Ascensão social","Queda emocional","Renascimento","Autodestruição","Libertação","Aprendizado",
    "Conflito interno","Conflito externo","Busca por poder","Busca por conhecimento",
    "Busca por justiça","Busca por vingança","Tentativa de redenção","Perda de inocência",
    "Queda física","Ascensão física","Descoberta de identidade","Transformação moral",
    "Transformação espiritual","Luto","Crescimento profissional","Fracasso","Triunfo",
    "Conquista emocional","Conquista intelectual","Conquista espiritual","Aliança","Conflito com mentor",
    "Conflito com rival"
  ],
  "conflitos_eventos":[
    "Morte de conhecido","Gravidez inesperada","Mudança súbita de cidade","Perda de emprego",
    "Roubo ou assalto","Doença grave","Acidente","Traição de amigo","Perda de família",
    "Falência","Escândalo público","Exílio","Descoberta de segredo familiar","Conflito com vizinho",
    "Conflito com mentor","Conflito com rival","Sequestro","Tentativa de assassinato",
    "Fuga de prisão","Perda de memória","Perda de status social","Abandono",
    "Desaparecimento de ente querido","Divórcio dos pais","Rejeição amorosa","Bullying",
    "Acusação injusta","Pressão familiar","Dependência química","Vício em jogo ou poder",
    "Problemas legais","Falta de recursos","Ataque sobrenatural","Invasão de propriedade",
    "Catástrofe natural","Guerra ou conflito armado","Apocalipse","Perda de habilidade ou poder",
    "Transformação física indesejada","Assédio ou perseguição","Dificuldades escolares",
    "Desapego forçado","Isolamento social","Conflito ético","Conflito religioso","Conflito cultural",
    "Conflito profissional","Conflito emocional","Descoberta de traição amorosa","Descoberta de falsidade ou fraude"
  ],
  "genero_estilo":[
    "Terror","Terror psicológico","Suspense","Mistério","Policial","Thriller","Romance",
    "Romance dramático","Romance proibido","Romance adolescente","Comédia","Comédia ácida",
    "Comédia romântica","Drama","Drama familiar","Drama psicológico","Fantasia","Fantasia sombria",
    "Fantasia épica","Fantasia urbana","Ficção científica","Cyberpunk","Sci-fi espacial","Distopia",
    "Utopia","Steampunk","Pós-apocalíptico","Surrealismo","Horror cósmico","Mitologia",
    "Épico histórico","Romance histórico","Realismo","Realismo mágico","Ficção juvenil",
    "Ficção adulta","Ficção especulativa","Noir","Gótico","Político","Satírico","Aventuras",
    "Viagem no tempo","Mistério sobrenatural","Conspiração","Espionagem","Thriller psicológico",
    "Fantasia científica","Horror sobrenatural","Drama de sobrevivência"
  ]
};

// Objeto para armazenar o estado atual do personagem
let estadoPersonagem = {
    papel_social: [],
    tracos_personalidade: [],
    arco_narrativo: [],
    conflitos_eventos: [],
    genero_estilo: []
};

// Funções utilitárias
function getRandomItems(array, minItems, maxItems) {
  const count = Math.floor(Math.random() * (maxItems - minItems + 1)) + minItems;
  const shuffled = array.sort(() => 0.5 - Math.random());
  return shuffled.slice(0, count);
}

const blocoTitulos = {
    papel_social: "Papel / Arquétipo Social",
    tracos_personalidade: "Traços de Personalidade",
    arco_narrativo: "Arco(s) Narrativo(s)",
    conflitos_eventos: "Conflito(s) / Evento(s) de Vida",
    genero_estilo: "Gênero(s) / Estilo(s) Literário(s)"
};

// Função principal para gerar um único bloco
function gerarBloco(chave, min, max) {
    const itens = getRandomItems(data[chave], min, max);
    estadoPersonagem[chave] = itens;
    renderizarPersonagem();
}

// Função que renderiza o estado atual do personagem no HTML
function renderizarPersonagem() {
    const div = document.getElementById('personagem');
    
    let htmlContent = '';

    for (const chave in estadoPersonagem) {
        if (estadoPersonagem[chave].length > 0) {
            htmlContent += `
                <div class="block" data-key="${chave}">
                    <div class="block-title">${blocoTitulos[chave]}:</div>
                    <div class="block-content">${estadoPersonagem[chave].join(', ')}</div>
                </div>
            `;
        }
    }

    if (htmlContent === '') {
        div.innerHTML = '<p style="text-align: center; padding: 10px;">Clique em "Gerar Personagem Completo" ou nos botões acima para começar!</p>';
    } else {
        div.innerHTML = htmlContent;
    }
}

// Função para gerar o personagem completo (chamada inicial ou do botão principal)
function gerarPersonagemCompleto() {
    // Definindo as regras:
    // papel_social: 1 item (1, 1)
    // tracos_personalidade: 1 a 3 itens (1, 3)
    // arco_narrativo: 1 a 2 itens (1, 2)
    // conflitos_eventos: 1 a 3 itens (1, 3)
    // genero_estilo: 1 a 2 itens (1, 2)
    
    estadoPersonagem.papel_social = getRandomItems(data.papel_social, 1, 1);
    estadoPersonagem.tracos_personalidade = getRandomItems(data.tracos_personalidade, 1, 3);
    estadoPersonagem.arco_narrativo = getRandomItems(data.arco_narrativo, 1, 2);
    estadoPersonagem.conflitos_eventos = getRandomItems(data.conflitos_eventos, 1, 3);
    estadoPersonagem.genero_estilo = getRandomItems(data.genero_estilo, 1, 2);

    renderizarPersonagem();
}

// Gera o personagem completo ao carregar a página para dar um conteúdo inicial
document.addEventListener('DOMContentLoaded', gerarPersonagemCompleto);
</script>
</body>
</html>
};

function getRandomItems(array, maxItems) {
  const count = Math.floor(Math.random() * maxItems) + 1;
  const shuffled = array.sort(() => 0.5 - Math.random());
  return shuffled.slice(0, count);
}

function gerarPersonagem() {
  const papel = getRandomItems(data.papel_social, 1)[0];
  const tracos = getRandomItems(data.tracos_personalidade, 3);
  const arcos = getRandomItems(data.arco_narrativo, 2);
  const conflitos = getRandomItems(data.conflitos_eventos, 3);
  const generos = getRandomItems(data.genero_estilo, 2);

  const div = document.getElementById('personagem');
  div.innerHTML = `
    <div class="block-title">Papel / Arquétipo Social:</div>
    <div class="block-content">${papel}</div>

    <div class="block-title">Traços de Personalidade:</div>
    <div class="block-content">${tracos.join(', ')}</div>

    <div class="block-title">Arco(s) Narrativo(s):</div>
    <div class="block-content">${arcos.join(', ')}</div>

    <div class="block-title">Conflito(s) / Evento(s) de Vida:</div>
    <div class="block-content">${conflitos.join(', ')}</div>

    <div class="block-title">Gênero(s) / Estilo(s) Literário(s):</div>
    <div class="block-content">${generos.join(', ')}</div>
  `;
}
</script>
</body>
</html>
